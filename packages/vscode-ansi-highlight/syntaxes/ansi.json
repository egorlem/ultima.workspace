{
  "scopeName": "ansi",
  "injectionSelector": "L:string.quoted",
  "patterns": [
    {
      "include": "#ansi-graphic"
    },
    {
      "include": "#ansi-graphic-256"
    },
    {
      "include": "#specifiers"
    }
  ],
  "repository": {
    "ansi-graphic": {
      "match": "(\\[(\\d+;*)+m)",
      "captures": {
        "1": { 
          "name": "constant.character.escape.parameters"
        },
        "2": { 
          "name": "constant.character.escape.parameters.sgr"
        }
      }
    },
    "ansi-graphic-256": {
      "match": "(\\[((38|48):5:([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]))+m)",
      "captures": {
        "1": { 
          "name": "constant.character.escape.parameters"
        },
        "2": { 
          "name": "constant.character.escape.parameters.sgr"
        }
      }
    },
    "specifiers": {
      "match": "(%(s|d|i|f|o|O|c|j))",
      "captures": {
        "1": { 
          "name": "constant.character.escape.specifier"
        }
      }
    }
  }
}